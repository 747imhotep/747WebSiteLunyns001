<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Search Results</title>
  <link rel="stylesheet" href="/index/index css/Search.css">
  <link rel="icon" href="IMAGES/Favicon/Favicon-01.svg">



  
</head>

<!--
# Advanced Search with Fuzzy Matching
This guide shows how to implement a robust search feature that combines 
hardcoded redirects with fuzzy matching using Fuse.js. This approach 
ensures users can quickly find relevant pages while also allowing for 
flexibility in search queries.
---
-->


<!-- ðŸ’» Example Code (Using Vanilla JS + Fuse.js) -->





  <body style="background-image: url(IMAGES/imgSEARCH/SearchPage.jpg);">
    <section class="search">
      <input type="text" id="search" placeholder="Search our site..." />
      <button onclick="handleSearch()">Search</button>
    </section>
    <img src="PRODUCTS/PROD_DET/EN590/" alt="">

    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
    <script>
      const hardcodedRedirects = {
      // CONTACT US
      "contact": "CONTACT/contact.html",
      // ABOUT US
      "about": "ABOUT/about2_us.html",
      "L.O.I.": "ABOUT/about2_us.html",
      "Letter of Intent": "ABOUT/about2_us.html",
      // PRODUCTS EN590
      "diesel": "PRODUCTS/PROD_DET/EN590/en590ppm20.html",
      "590": "PRODUCTS/PROD_DET/EN590/en590ppm20.html",
      "en590": "PRODUCTS/PROD_DET/EN590/en590ppm20.html",
      "ppm": "PRODUCTS/PROD_DET/EN590/en590ppm20.html",
      "10ppm": "PRODUCTS/PROD_DET/EN590/en590ppm20.html",
      "50ppm": "PRODUCTS/PROD_DET/EN590/en590ppm20.html",
      "500ppm": "PRODUCTS/PROD_DET/EN590/en590ppm20.html",
      "5000ppm": "PRODUCTS/PROD_DET/EN590/en590ppm20.html",
      "5,000ppm": "PRODUCTS/PROD_DET/EN590/en590ppm20.html",
      "Sulfur": "PRODUCTS/PROD_DET/EN590/en590ppm20.html",
      "Low Sulfur": "PRODUCTS/PROD_DET/EN590/en590ppm20.html",
      "Ultra Low Sulfur": "PRODUCTS/PROD_DET/EN590/en590ppm20.html",
      // PRODUCTS JET A1 FUEL
      "jet": "PRODUCTS/PROD_DET/JET_A1_FUEL/jetA1fuel.html",
      "jetA1": "PRODUCTS/PROD_DET/JET_A1_FUEL/jetA1fuel.html",
      "jet A1": "PRODUCTS/PROD_DET/JET_A1_FUEL/jetA1fuel.html",
      "jet fuel": "PRODUCTS/PROD_DET/JET_A1_FUEL/jetA1fuel.html",
      "jetA1 fuel": "PRODUCTS/PROD_DET/JET_A1_FUEL/jetA1fuel.html",
      "jet A1 fuel": "PRODUCTS/PROD_DET/JET_A1_FUEL/jetA1fuel.html",
      "JP54": "PRODUCTS/PROD_DET/JET_A1_FUEL/jetA1fuel.html",
      "JP 54": "PRODUCTS/PROD_DET/JET_A1_FUEL/jetA1fuel.html",
      // PRODUCTS COCONUTS
      "coconuts": "PRODUCTS/PROD_DET/COCONUTS/coconuts.html",
      "husks": "PRODUCTS/PROD_DET/COCONUTS/coconuts.html",
      "dry": "PRODUCTS/PROD_DET/COCONUTS/coconuts.html",
      "shell": "PRODUCTS/PROD_DET/COCONUTS/coconuts.html",
      // PRODUCTS CASHEW NUTS
      "cashew": "PRODUCTS/PROD_DET/CASHEW_NUTS/cashewNuts.html",
      "180": "PRODUCTS/PROD_DET/CASHEW_NUTS/cashewNuts.html",
      "w180": "PRODUCTS/PROD_DET/CASHEW_NUTS/cashewNuts.html",
      "320": "PRODUCTS/PROD_DET/CASHEW_NUTS/cashewNuts.html",
      "w320": "PRODUCTS/PROD_DET/CASHEW_NUTS/cashewNuts.html",
      "raw": "PRODUCTS/PROD_DET/CASHEW_NUTS/cashewNuts.html"
      };

      const searchablePages = Object.keys(hardcodedRedirects).map(key => ({
      keyword: key,
      path: hardcodedRedirects[key]
    }));
    
  // âœ… Fuse initialized AFTER definitions
    const fuse = new Fuse(searchablePages, {
      keys: ['keyword'],
      threshold: 0.3
    });

    function handleSearch() {
      const input = document.getElementById("search");
      if (!input) return;

      const query = input.value.toLowerCase().trim();

      if (hardcodedRedirects[query]) {
        window.location.href = hardcodedRedirects[query];
        return;
      }

      const results = fuse.search(query);
      if (results.length > 0 && results[0].score < 0.3) {
        window.location.href = results[0].item.path;
        return;
      }

      // If no match found, go to fallback search results
      window.location.href = `search-results.html?query=${encodeURIComponent(query)}`;
    }

    // Optional: auto-handle query from URL
    window.onload = function () {
      const params = new URLSearchParams(window.location.search);
      const query = params.get("query");
      if (query) {
        const input = document.getElementById("search");
        if (input) input.value = query;
        // Uncomment to auto-redirect based on query
        // handleSearch();
      }
    };
  </script>
  </body>

</html>