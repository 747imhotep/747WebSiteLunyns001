hELLO

this is an SCO test

We need to Add email verification before download.

Create a "one-time download" link.
and
Customize the file name dynamically.
The document is in the DownloadDoc Folder. This Folder is in the same Folder as the html File.


Perfect — sending the document directly to the user's email is a secure and user-friendly solution. Here's how to do it:

---

## ✅ What We'll Build

1. **User submits their email**
2. **Server sends the SCO document as an attachment**
3. **No public download link needed**

We'll use **PHP**'s `mail()` function with an SMTP library like **PHPMailer**, which is reliable and supports file attachments.

---

## 📁 Folder Structure

```
project/
├── send_form.html
├── send_email.php
├── DownloadDoc/
│   └── securefile.pdf
├── PHPMailer/
│   ├── PHPMailer.php
│   ├── SMTP.php
│   └── Exception.php
```

> **Note:** You'll need the [PHPMailer library](https://github.com/PHPMailer/PHPMailer) – it's free and easy to install.

---

## 1. `send_form.html` – Email Form

```html
<!DOCTYPE html>
<html>
<head>
  <title>Secure Document Delivery</title>
</head>
<body style="text-align: center; margin-top: 100px;">
  <h2>Enter Your Email to Receive the Document</h2>
  <form action="send_email.php" method="POST">
    <input type="email" name="email" required placeholder="Enter your email">
    <br><br>
    <button type="submit">Send Document</button>
  </form>
</body>
</html>
```

---

## 2. `send_email.php` – Send the PDF as Attachment

```php
<?php
use PHPMailer\PHPMailer\PHPMailer;
use PHPMailer\PHPMailer\Exception;

require 'PHPMailer/PHPMailer.php';
require 'PHPMailer/SMTP.php';
require 'PHPMailer/Exception.php';

$email = $_POST['email'] ?? '';

if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
    die("Invalid email address.");
}

$mail = new PHPMailer(true);

try {
    // Server settings
    $mail->isSMTP();
    $mail->Host       = 'smtp.example.com'; // 🔁 Replace with your SMTP server
    $mail->SMTPAuth   = true;
    $mail->Username   = 'you@example.com';  // 🔁 Your SMTP username
    $mail->Password   = 'yourpassword';     // 🔁 Your SMTP password
    $mail->SMTPSecure = 'tls';              // Or 'ssl'
    $mail->Port       = 587;                // 465 for SSL

    // Recipients
    $mail->setFrom('you@example.com', 'Your Company');
    $mail->addAddress($email);

    // Attachment
    $filePath = 'DownloadDoc/securefile.pdf';
    $customFileName = 'Your_SCO_Document.pdf';
    $mail->addAttachment($filePath, $customFileName);

    // Content
    $mail->isHTML(true);
    $mail->Subject = 'Your SCO Document';
    $mail->Body    = 'Hello,<br><br>Your SCO document is attached.<br><br>Thank you!';

    $mail->send();
    echo "✅ Document sent to <strong>$email</strong>";
} catch (Exception $e) {
    echo "❌ Message could not be sent. Mailer Error: {$mail->ErrorInfo}";
}
```

---

## ✅ Setup Notes

* Replace SMTP credentials with your real email provider's (Gmail, Mailgun, etc.)
* Make sure your server allows **sending emails**
* Some hosts (like Gmail) require you to enable **“Less Secure Apps”** or use an **App Password**

---

## 🧪 Test It

1. Upload files to your server
2. Visit `send_form.html`
3. Enter your email
4. Check your inbox for the attachment

---

Would you like:

* To log email submissions?
* To send a different file per user?
* A styled confirmation page?

Let me know and I’ll help tailor it further!

